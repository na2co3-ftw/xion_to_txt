# xion_to_txt

`img`には[xion.pdf](http://conlinguistics.org/arka/images/xion.pdf)をページごとに[PDFtoPNG](http://pdf2png.com/ja/)でPNG化したもの、`docs`にはそれらを[GoogleドライブのOCR機能](https://support.google.com/drive/answer/176692)を利用して文書形式にしたものを格納

## コミットメモ

* `txts_docx2txt`
  * [docx2txt](https://pypi.python.org/pypi/docx2txt/0.6)を使用して抽出したテキスト＋使用したスクリプト

* `first_draft`
  * `txts_docx2txt`の人力による第一段階の清書。 整形とかはこの段階でだいたいやっておく。

* `first_draft_with_arka`
  * `txts_docx2txt`の人力による第一段階の清書のうち、幻字・幼字が含まれているもの。  
  
* `first_draft_with_wrong_arka`
  * `txts_docx2txt`の人力による第一段階の清書のうち、幻字などが未修正のまま含まれているもの。誤った幻字は`[FIXME--`と`]`で囲むこと。`{{`-`}}`表記になっていても、末尾のピリオドなどが抜けている可能性もある。

* `second_draft`
  * 第二段階の清書。

## 整形方法
1. 日本語文中の半角スペースを改行に置き換える(`([^!?a-zA-Z,əɔıìíŲеÉð|).0-9-])[ ]`→`\1\n`がお薦め)
2. 元のpdfを見ながら、整形していく。  
    * 日本語の地の文の冒頭は全角スペースを入れる。鍵カッコがあるときは字下げしない。
	* 3点リーダーは必ず`……`、ダッシュは必ず`――`の形式に修正する。
	* 拗音・促音・画数の多い漢字の読み間違いが意外と多いので修正する。
	* 半濁点の読み間違いも多い。特にオノマトペに顕著。
	* 日本語文中の疑問符・感嘆符は全角。
	* 幻字部分は`{{`と`}}`で囲む。幻字を読む気力がないときは、誤字を`[FIXME--`と`]`で囲む。
	* 幼字は`{{`と`}}`で囲った内側で、`&`に続けてayakaフォントやyuukoフォントでその幼字に割り当てられた文字を書く。幼字が複数並ぶ場合はそれぞれに`&`を前置する。
	* カタカナ人名前を結んでいる`=`は`゠`に修正する。
	* アルカ文章中で改行がある場合は、前の行の行末に半角スペースを付け、`}}`で閉じずに改行
	* アルカ文中に日本語が入る場合、日本語も含めて全体を一つの`{{ }}`で囲う
